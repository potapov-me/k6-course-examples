# Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ Ñ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð°Ð¼Ð¸ ÐºÑƒÑ€ÑÐ°

## ðŸš€ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° k6

**macOS:**
```bash
brew install k6
```

**Docker:**
```bash
docker pull grafana/k6:latest
alias k6='docker run --rm -i -v $(pwd):/work -w /work grafana/k6'
```

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð²

```
k6-course-examples/
â”œâ”€â”€ 01-smoke-tests/        # Ð£Ñ€Ð¾Ðº 3: Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ðµ smoke-Ñ‚ÐµÑÑ‚Ñ‹
â”œâ”€â”€ 02-load-tests/         # Ð£Ñ€Ð¾Ðº 4: Load-Ñ‚ÐµÑÑ‚Ñ‹ Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ executors
â”œâ”€â”€ 04-traffic-modeling/   # Ð£Ñ€Ð¾Ðº 5: Ð ÐµÐ°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ðµ user journeys
â”œâ”€â”€ 06-metrics/            # Ð£Ñ€Ð¾Ðº 7: ÐšÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸
â”œâ”€â”€ 07-observability/      # Ð£Ñ€Ð¾Ðº 8: Prometheus + Ñ‚Ñ€ÐµÐ¹ÑÑ‹
â”œâ”€â”€ 08-ci-cd/              # Ð£Ñ€Ð¾Ðº 9: GitLab CI & GitHub Actions
â”œâ”€â”€ data/                  # Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
â””â”€â”€ lib/                   # ÐŸÐµÑ€ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
```

## âš¡ Ð—Ð°Ð¿ÑƒÑÐº Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ñ‚ÐµÑÑ‚Ð°

```bash
# 1. Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ smoke-Ñ‚ÐµÑÑ‚
k6 run 01-smoke-tests/basic-smoke.js

# 2. Load-Ñ‚ÐµÑÑ‚ Ñ ramping-vus
k6 run 02-load-tests/ramping-vus.js

# 3. Ð¡ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
BASE_URL=https://your-api.com k6 run 01-smoke-tests/api-smoke.js

# 4. Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²
k6 run 01-smoke-tests/basic-smoke.js --summary-export summary.json
```

## ðŸŽ¯ Ð¢Ð¸Ð¿Ð¸Ñ‡Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

```bash
# Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ VU Ð¸ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ
k6 run tests/smoke.js --vus 10 --duration 5m

# Quiet mode (Ð¼ÐµÐ½ÑŒÑˆÐµ Ð²Ñ‹Ð²Ð¾Ð´Ð°)
k6 run tests/load.js --quiet

# ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð¼ÐµÑ‚Ñ€Ð¸Ðº Ð² Prometheus
k6 run tests/load.js --out prometheus-remote-write=http://localhost:9090/api/v1/write

# JSON output Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
k6 run tests/load.js --out json=results.json
```

## ðŸ“Š Ð§Ñ‚ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ð½Ð° ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸:

```
âœ… checks: 98.5%              # Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ > 95%
âœ… http_req_failed: 0.5%      # Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ < 1%
âœ… http_req_duration p(95): 234ms  # Ð¡Ñ€Ð°Ð²Ð½Ð¸Ñ‚Ðµ Ñ Ð²Ð°ÑˆÐ¸Ð¼ SLO
```

## ðŸ”§ ÐÐ´Ð°Ð¿Ñ‚Ð°Ñ†Ð¸Ñ Ð¿Ð¾Ð´ Ð²Ð°Ñˆ Ð¿Ñ€Ð¾ÐµÐºÑ‚

1. **Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ BASE_URL** Ð½Ð° URL Ð²Ð°ÑˆÐµÐ³Ð¾ API
2. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ endpoints** Ð² Ñ‚ÐµÑÑ‚Ð°Ñ…
3. **ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ checks** Ð¿Ð¾Ð´ Ð²Ð°ÑˆÐ¸ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ API
4. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ thresholds** ÑÐ¾Ð³Ð»Ð°ÑÐ½Ð¾ Ð²Ð°ÑˆÐ¸Ð¼ SLO

## ðŸ“š Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

1. Ð˜Ð·ÑƒÑ‡Ð¸Ñ‚Ðµ [README.md](README.md) Ð´Ð»Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð³Ð¾ Ð¾Ð±Ð·Ð¾Ñ€Ð°
2. ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸ Ð² Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð°Ñ…
3. ÐÐ´Ð°Ð¿Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¿Ð¾Ð´ Ð²Ð°Ñˆ Ð¿Ñ€Ð¾ÐµÐºÑ‚
4. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð² CI/CD (ÑÐ¼. `08-ci-cd/`)

## ðŸ’¡ ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÑÑÑ‹Ð»ÐºÐ¸

- [k6 Documentation](https://k6.io/docs/)
- [k6 Examples](https://k6.io/docs/examples/)
- [Grafana k6](https://grafana.com/docs/k6/latest/)

---

**Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹?** Ð˜Ð·ÑƒÑ‡Ð°Ð¹Ñ‚Ðµ ÐºÑƒÑ€Ñ "k6: Ð½Ð°Ð³Ñ€ÑƒÐ·Ð¾Ñ‡Ð½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ðº ÑÐ¸ÑÑ‚ÐµÐ¼Ð°" ðŸš€
